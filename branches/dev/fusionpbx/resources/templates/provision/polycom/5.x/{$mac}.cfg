<!-- Enable Remote Pcap -->
<capture diags.pcap.enabled="1"  diags.pcap.remote.enabled="1" />

<!-- registration -->
<reg
	{foreach $lines as $row}reg.{$row.line_number}.displayName="{$row.user_id}" 
	reg.{$row.line_number}.address="{$row.user_id}" 
	reg.{$row.line_number}.label="{$row.user_id}" 
	reg.{$row.line_number}.type="private" 
	reg.{$row.line_number}.lcs="" 
	reg.{$row.line_number}.thirdPartyName="{$row.display_name}" 
	reg.{$row.line_number}.auth.userId="{$row.user_id}" 
	reg.{$row.line_number}.auth.password="{$row.password}" 
	reg.{$row.line_number}.lineKeys="{$line_key_value_{$row.line_number}}" 
	reg.{$row.line_number}.auth.optimizedInFailover="" 
	{if isset($row.outbound_proxy)}reg.{$row.line_number}.outboundProxy.address = "{$row.outbound_proxy}"
	{/if}
	{if isset($row.sip_port)}reg.{$row.line_number}.outboundProxy.port="{$row.sip_port}"{else}reg.{$row.line_number}.server.1.port="5060"
	{/if}
	{if $row.sip_transport == ''}reg.{$row.line_number}.outboundProxy.transport="TCPOnly"{/if}
	{if $row.sip_transport == 'tcp'}reg.{$row.line_number}.outboundProxy.transport="TCPOnly"{/if}
	{if $row.sip_transport == 'udp'}reg.{$row.line_number}.outboundProxy.transport="UDPOnly"{/if}
	{if $row.sip_transport == 'tls'}reg.{$row.line_number}.outboundProxy.transport="TLS" {/if}
	{if $row.sip_transport == 'dns srv'}reg.{$row.line_number}.outboundProxy.transport="DNSnaptr"{/if}
	reg.{$row.line_number}.server.1.address="{$row.server_address}"
	{if isset($row.sip_port)}reg.{$row.line_number}.server.1.port="{$row.sip_port}"{else}reg.{$row.line_number}.server.1.port="5060"
	{/if}
	{if $row.sip_transport == ''}reg.{$row.line_number}.server.1.transport="TCPOnly"{/if}
	{if $row.sip_transport == 'tcp'}reg.{$row.line_number}.server.1.transport="TCPOnly"{/if}
	{if $row.sip_transport == 'udp'}reg.{$row.line_number}.server.1.transport="UDPOnly"{/if}
	{if $row.sip_transport == 'tls'}reg.{$row.line_number}.server.1.transport="TLS" {/if}
	{if $row.sip_transport == 'dns srv'}reg.{$row.line_number}.server.1.transport="DNSnaptr"{/if}
	{if isset($row.sip_port)}reg.{$row.line_number}.server.1.expires="{$row.register_expires}"{else}reg.{$row.line_number}.server.1.expires="30"{/if}
	{/foreach}
/>

<attendant attendant.reg="1" attendant.ringType="ringer1" attendant.uri="">
	<attendant.behaviors>
	 <attendant.behaviors.display>
	 <attendant.behaviors.display.remoteCallerID 
		attendant.behaviors.display.remoteCallerID.automata="1" 
		attendant.behaviors.display.remoteCallerID.normal="1">
	 </attendant.behaviors.display.remoteCallerID>
	 <attendant.behaviors.display.spontaneousCallAppearances 
		attendant.behaviors.display.spontaneousCallAppearances.automata="0" 
		attendant.behaviors.display.spontaneousCallAppearances.normal="1">
	 </attendant.behaviors.display.spontaneousCallAppearances>
	 </attendant.behaviors.display>
	</attendant.behaviors>
	<attendant.resourceList 
		{foreach $keys as $row}{if $row.device_key_category == "line"}{if $row.device_key_type != "line"}attendant.resourceList.{$row.device_key_id}.address="{$row.device_key_value}"
		attendant.resourceList.{$row.device_key_id}.callAddress=""
		attendant.resourceList.{$row.device_key_id}.label="{$row.device_key_label}"
		attendant.resourceList.{$row.device_key_id}.proceedingIsRecipient="0" 
		attendant.resourceList.{$row.device_key_id}.type="{$row.device_key_type}"
		{/if}{/if}

		{/foreach}>
	</attendant.resourceList>
</attendant>

<PHONE>
	<!-- NTP Settings -->
	<!-- More time zone info at http://www.epochconverter.com/epoch/timezones.php -->
	<device.sntp 
		device.sntp.gmtOffset="{$polycom_gmt_offset}" 
		device.sntp.serverName="pool.ntp.org">
		device.sntp.serverName.set=""
		device.sntp.gmtOffset.set="">
	</device.sntp>

	<!-- Dialplan [2-9]11|0T|011xxx.T|[0-1][2-9]xxxxxxxxx|[2-9]xxxxxxxxx|[2-9]xxT|**x.T-->
	<dialplan>
		<dialplan.digitmap=""></dialplan.digitmap>
	</dialplan>

	<!-- MWI -->
	<msg msg.bypassInstantMessage="1"> 
		<mwi
			msg.mwi.1.subscribe="" 
			msg.mwi.1.callBackMode="contact" 
			msg.mwi.1.callBack="*97" 
			msg.mwi.2.subscribe="" 
			msg.mwi.2.callBackMode="disabled" 
			msg.mwi.2.callBack="" 
			msg.mwi.3.subscribe="" 
			msg.mwi.3.callBackMode="disabled" 
			msg.mwi.3.callBack="" 
			msg.mwi.4.subscribe="" 
			msg.mwi.4.callBackMode="disabled" 
			msg.mwi.4.callBack="" 
			msg.mwi.5.subscribe="" 
			msg.mwi.5.callBackMode="disabled" 
			msg.mwi.5.callBack="" 
			msg.mwi.6.subscribe="" 
			msg.mwi.6.callBackMode="disabled" 
			msg.mwi.6.callBack=""
		/>
	</msg>

	<DEVICE_SETTINGS
		device.set="1"
		device.auth.localUserPassword.set="0"
		device.pacfile.password.set="0"
		device.net.dot1x.password.set="0"
		device.prov.lyncDeviceUpdatePassword.set="0"
		device.auth.localAdminPassword.set="0"
		device.logincred.pin.set="0"
		device.logincred.pin=""
		device.logincred.password.set="0"
		device.prov.password.set="0"
		device.baseProfile.set="1"
		device.baseProfile="Generic"
		device.prov.serverType.set="1"
		device.prov.serverType="FTP"
		device.dhcp.enabled.set="1"
		device.dhcp.enabled="1"
		device.net.enabled.set="1"
		device.net.enabled="1"
		device.net.dhcpBootServer.set="1"
		device.net.dhcpBootServer="V4"
		device.net.ipAddress.set="1"
		device.net.ipAddress="0.0.0.0"
		device.net.subnetMask.set="1"
		device.net.subnetMask="255.0.0.0"
		device.net.IPgateway.set="1"
		device.net.IPgateway="0.0.0.0"
		device.net.vlanId.set="1"
		device.net.vlanId=""
		device.net.cdpEnabled.set="1"
		device.net.cdpEnabled="1"
		device.net.lldpEnabled.set="1"
		device.net.lldpEnabled="1"
		device.net.etherVlanFilter.set="1"
		device.net.etherVlanFilter="0"
		device.net.etherStormFilter.set="1"
		device.net.etherStormFilter="1"
		device.net.etherModeLAN.set="1"
		device.net.etherModeLAN="Auto"
		device.net.etherModePC.set="1"
		device.net.etherModePC="Auto"
		device.dhcp.dhcpVlanDiscUseOpt.set="1"
		device.dhcp.dhcpVlanDiscUseOpt="Fixed"
		device.dhcp.dhcpVlanDiscOpt.set="1"
		device.dhcp.dhcpVlanDiscOpt="129"
		device.dhcp.bootSrvUseOpt.set="1"
		device.dhcp.bootSrvUseOpt="CustomAndDefault"
		device.dhcp.bootSrvOpt.set="1"
		device.dhcp.bootSrvOpt="160"
		device.dhcp.bootSrvOptType.set="1"
		device.dhcp.bootSrvOptType="String"
		device.dhcp.option60Type.set="1"
		device.dhcp.option60Type="ASCII"
		device.prov.upgradeServer.set="1"
		device.prov.upgradeServer=""
		device.prov.serverName.set="1"
		device.prov.serverName=""
		device.prov.user.set="1"
		device.prov.user="PlcmSpIp"
		device.prov.redunAttemptLimit.set="1"
		device.prov.redunAttemptLimit="3"
		device.prov.redunInterAttemptDelay.set="1"
		device.prov.redunInterAttemptDelay="1"
		device.prov.maxRedunServers.set="1"
		device.prov.maxRedunServers="8"
		device.prov.networkEnvironment.set="1"
		device.prov.networkEnvironment="1"
		device.prov.tagSerialNo.set="1"
		device.prov.tagSerialNo="0"
		device.cma.mode.set="1"
		device.cma.mode="Disabled"
		device.cma.serverName.set="1"
		device.cma.serverName=""
		device.cma.disableTlsForDebug.set="1"
		device.cma.disableTlsForDebug="0"
		device.ntlm.versionMode.set="1"
		device.ntlm.versionMode="v2"
		device.logincred.user.set="1"
		device.logincred.user=""
		device.logincred.domain.set="1"
		device.logincred.domain=""
		device.logincred.extension.set="1"
		device.logincred.extension=""
		device.sec.TLS.OCSP.enabled.set="1"
		device.sec.TLS.OCSP.enabled="0"
		device.sec.TLS.FIPS.enabled.set="1"
		device.sec.TLS.FIPS.enabled="0"
		device.sec.TLS.profile.cipherSuiteDefault1.set="1"
		device.sec.TLS.profile.cipherSuiteDefault1="1"
		device.sec.TLS.profile.cipherSuite1.set="1"
		device.sec.TLS.profile.cipherSuite1=""
		device.sec.TLS.profile.caCertList1.set="1"
		device.sec.TLS.profile.caCertList1="All"
		device.sec.TLS.profile.deviceCert1.set="1"
		device.sec.TLS.profile.deviceCert1="Builtin"
		device.sec.TLS.profile.cipherSuiteDefault2.set="1"
		device.sec.TLS.profile.cipherSuiteDefault2="1"
		device.sec.TLS.profile.cipherSuite2.set="1"
		device.sec.TLS.profile.cipherSuite2=""
		device.sec.TLS.profile.caCertList2.set="1"
		device.sec.TLS.profile.caCertList2="All"
		device.sec.TLS.profile.deviceCert2.set="1"
		device.sec.TLS.profile.deviceCert2="Builtin"
		device.sec.TLS.syslog.strictCertCommonNameValidation.set="1"
		device.sec.TLS.syslog.strictCertCommonNameValidation="1"
		device.sec.TLS.profileSelection.syslog.set="1"
		device.sec.TLS.profileSelection.syslog="PlatformProfile1"
		device.sec.TLS.prov.strictCertCommonNameValidation.set="1"
		device.sec.TLS.prov.strictCertCommonNameValidation="1"
		device.sec.TLS.profileSelection.provisioning.set="1"
		device.sec.TLS.profileSelection.provisioning="PlatformProfile1"
		device.sec.TLS.dot1x.strictCertCommonNameValidation.set="1"
		device.sec.TLS.dot1x.strictCertCommonNameValidation="1"
		device.sec.TLS.profileSelection.dot1x.set="1"
		device.sec.TLS.profileSelection.dot1x="PlatformProfile1"
		device.sec.coreDumpEncryption.enabled.set="1"
		device.sec.coreDumpEncryption.enabled="1"
		device.syslog.serverName.set="1"
		device.syslog.serverName=""
		device.syslog.transport.set="1"
		device.syslog.transport="UDP"
		device.syslog.facility.set="1"
		device.syslog.facility="16"
		device.syslog.renderLevel.set="1"
		device.syslog.renderLevel="4"
		device.syslog.prependMac.set="1"
		device.syslog.prependMac="0"
		device.dns.serverAddress.set="1"
		device.dns.serverAddress="0.0.0.0"
		device.dns.altSrvAddress.set="1"
		device.dns.altSrvAddress="0.0.0.0"
		device.dns.domain.set="1"
		device.dns.domain=""
		device.hostname.set="1"
		device.hostname=""
		device.em.power.set="1"
		device.em.power="1"
		device.prov.ztpEnabled.set="1"
		device.prov.ztpEnabled="0"
		device.prov.lyncDeviceUpdateEnabled.set="1"
		device.prov.lyncDeviceUpdateEnabled="0"
		device.prov.lyncDeviceUpdateUser.set="1"
		device.prov.lyncDeviceUpdateUser=""
		device.prov.lyncDeviceUpdateDomain.set="1"
		device.prov.lyncDeviceUpdateDomain=""
		device.net.dot1x.enabled.set="1"
		device.net.dot1x.enabled="0"
		device.net.dot1x.method.set="1"
		device.net.dot1x.method="EAP-MD5"
		device.net.dot1x.identity.set="1"
		device.net.dot1x.identity=""
		device.net.dot1x.anonid.set="1"
		device.net.dot1x.anonid=""
		device.net.dot1x.eapFastInBandProv.set="1"
		device.net.dot1x.eapFastInBandProv="0"
		device.auxPort.enable.set="1"
		device.auxPort.enable="1"
		device.serial.enable.set="1"
		device.serial.enable="1"
	/>
	<CONFIG_FILES
		device.prov.serverName=""
		device.prov.serverName.set="1"
		device.prov.ztpEnabled="0"
		device.prov.ztpEnabled.set="1"
		device.set="1"
	/>
	<PHONE_LOCAL/>
	<CALL_SERVER/>
	<WEB
		nat.keepalive.interval="5"
		ptt.pageMode.enable="1"
		tcpIpApp.sntp.address="pool.ntp.org"
		tcpIpApp.sntp.address.overrideDHCP="1"
		tcpIpApp.sntp.resyncPeriod="43200"
	/>
</PHONE>